
<!DOCTYPE html>
<html lang="en">
<head>
	
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>导出标注</title>
	<meta name="description" content="Lavinya - Software HTML template by tempload.">
	<meta name="keywords" content="lavinya, startup, saas, agency, development, html, template, tempload">
    <style>
    table, td, th
    {
        border:1px solid green;
		table-layout:fixed;
		width : 100px;
    }
    th
    {
        background-color:green;
        color:white;
    }
	td{  
		width:100%;  background-color:white;
		word-break:keep-all;/* 不换行 */  
		white-space:nowrap;/* 不换行 */  
		overflow:hidden;/* 内容超出宽度时隐藏超出部分的内容 */  
		text-overflow:ellipsis;/* 当对象内文本溢出时显示省略标记(...) ；需与overflow:hidden;一起使用*/  
	}  
    </style>
	<!-- Bootstrap & Plugins CSS -->
	<link href="../static/page_static/static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="../static/page_static/static/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="../static/page_static/static/css/owl.carousel.min.css" rel="stylesheet" type="text/css">
	<link href="../static/page_static/static/css/owl.theme.default.min.css" rel="stylesheet" type="text/css">
    <link rel="Shortcut Icon" type="image/x-icon" href="../static/public/favicon.ico">

	<!-- Custom CSS -->
	<link href="../static/page_static/static/css/style.css" rel="stylesheet" type="text/css">

</head>
<body>
	<input type="hidden" id="mid"value={{mid}}></input>
	<!-- ***** Header Area Start ***** -->
	<header class="header-area">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<nav class="main-nav">
						<!-- ***** Logo Start ***** -->
						<a href="" class="logo">
							<img src="../static/page_static/static/picture/logo-white.svg" alt="Lavinya">
							<input type="hidden" id = "pic_num" value={{pic_num}}></input>
						</a>
						<!-- ***** Logo End ***** -->


						<!-- ***** Menu Start ***** -->
						<ul class="nav">
							<li class="submenu">
								<a href="javascript:;">主页</a>
								<ul>
									<li><a onclick = "window.location.href='/home'">主页</a></li>
								</ul>
							</li>
							<li class="submenu">
								<a href="javascript:;">上传资源</a>
								<ul>
									<li><a onclick = "window.location.href='/pub_pic'">上传图片</a></li>
									<li><a onclick = "window.location.href='/pub_video'">上传视频</a></li>
								</ul>
							</li>
							<li class="submenu">
								<a href="javascript:;">任务</a>
								<ul>
									<li><a  onclick = "window.location.href='/show_missions'">查看任务</a></li>
									<li><a  onclick = "window.location.href='/pub_mission'">选择资源发布任务</a></li>
								</ul>
							</li>
						</ul>
						<a class="menu-trigger">
							<span>Menu</span>
						</a>
						<!-- ***** Menu End ***** -->

						<!-- ***** Header Buttons Start ***** -->
						{%if request.user.is_authenticated%}
						<ul class="header-buttons"><li><a class="btn-nav-line" >{{request.user.username}}</a></li>
						<li><a class="btn-nav-line" onclick="window.location.href='../log_out'">logout</a></li></ul>
						{%else%}
						<ul class="header-buttons">
							<li><a class="btn-nav-line" onclick="window.location.href='../sign_in'">Sign In</a></li>
							<li><a class="btn-nav-primary" onclick="window.location.href='../reg'">Sign Up</a></li>
						</ul>
						{%endif%}
						<!-- ***** Header Buttons End ***** -->
					</nav>
				</div>
			</div>
		</div>
	</header>
	<!-- ***** Header Area End ***** -->
	

	<!-- ***** Welcome Area Start ***** -->
	<div class="welcome-area-one" id="welcome">
		<div class="bg">
			<img src="../static/page_static/static/picture/welcome-bg-one.svg" alt="" class="img-fluid">
		</div>
		<div class="content">
			<div class="container">
				
				<div class="row">
					<div class="offset-lg-2 col-lg-8">
						<div class="player">{%if judge%}
							<font color = "white" size = "20px">有效标注信息：{{ret1}}/{{ret2}}</font>
							<script>alert("请进行审核")</script>
							{%else%}
							<font color = "white" size = "50px">导出标注信息</font>
							{%endif%}
							</a>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="text-center">
						{%if judge%}
						<table class = "table" id = "mytable">
								<tr>
								<th>任务ID</th>
								<th>参数1</th>
								<th>参数2</th>
								<th>参数3</th>
								<th>参数4</th>
								<th>标准内容</th>
								<th>图片数</th>
								<th>图片url</th>
								</tr>
								{%for m in label_return%}
								<tr>
								<td title = {{m.0}}><font color = "black">{{m.7}}</font></td>
								<td title = {{m.1}}><font color = "black">{{m.1}}</font></td>
								<td title = {{m.2}}><font color = "black">{{m.2}}</font></td>
								<td title = {{m.3}}><font color = "black">{{m.3}}</font></td>
								<td title = {{m.4}}><font color = "black">{{m.4}}</font></td>
								<td title = {{m.5}}><font color = "black">{{m.5}}</td>
								<td title = {{m.6}}><font color = "black">{{m.6}}</td>
								<td title = {{m.8}}><font color = "black">{{m.8}}</td>
								</tr>
								{% endfor %}
						</table>
						{%else%}
						<table class = "table" id = "mytable">
							<tr>
							<th>任务ID</th>
							<th>参数1</th>
							<th>参数2</th>
							<th>参数3</th>
							<th>参数4</th>
							<th>标准内容</th>
							<th>图片数</th>
							<th>图片url</th>
							</tr>
							{%for m in label_return%}
							<tr>
							<td title = {{m.7}} value = {{m.7}}><font color = "black">{{m.7}}</font></td>
							<td title = {{m.1}} value = {{m.1}}><font color = "black">{{m.1}}</font></td>
							<td title = {{m.2}} value = {{m.2}}><font color = "black">{{m.2}}</font></td>
							<td title = {{m.3}} value = {{m.3}}><font color = "black">{{m.3}}</font></td>
							<td title = {{m.4}} value = {{m.4}}><font color = "black">{{m.4}}</font></td>
							<td title = {{m.5}} value = {{m.5}}><font color = "black">{{m.5}}</td>
							<td title = {{m.6}} value = {{m.6}}><font color = "black">{{m.6}}</td>
							<td title = {{m.8}} value = {{m.8}}><font color = "black">{{m.8}}</td>
							</tr>
							{% endfor %}
					</table>
					{%endif%}
					</div>
				</div>
				{%if judge%}
				<div class="row">

					<div class="offset-lg-2 col-lg-8"><div class="offset-lg-2 col-lg-8"><div class="offset-lg-2 col-lg-8">
						<form action="/judge_pass" method="post" >
                                {%csrf_token%}
								<input type="hidden" name = "mid" value={{label_return.0.0}}></input>
								<input type="hidden" name = "pass_no" value="1"></input>
								<input type="submit"style="	background-color: #4CAF50;
								border: none;
								color: white;
								width:96px;
								height:54px;
								text-align: center;
								text-decoration: none;
								display: inline-block;
								font-size: 16px;"value = "通过">
                            </form>
							</div></div></div>
				</div>
				<div class="row">

					<div class="offset-lg-2 col-lg-8"><div class="offset-lg-2 col-lg-8"><div class="offset-lg-2 col-lg-8">
						<form action="/judge_pass" method="post" >
                                {%csrf_token%}
								<input type="hidden" name = "pass_no" value="0"></input>
								<input type="hidden" name = "mid" value={{label_return.0.0}}></input>
								<input type="submit"style="	background-color: red;
								border: none;
								color: white;
								width:96px;
								height:54px;
								text-align: center;
								text-decoration: none;
								display: inline-block;
								font-size: 16px;"value = "不通过">
                            </form>
							</div></div></div>
				</div>
				{%else%}
				
			<div class="row">

				<div class="offset-lg-2 col-lg-8"><div class="offset-lg-2 col-lg-8"><div class="offset-lg-2 col-lg-8">
					
					<input type="button"style="	background-color: #4CAF50;
					border: none;
					color: white;
					width:96px;
					height:54px;
					text-align: center;
					text-decoration: none;
					display: inline-block;
					font-size: 16px;"onclick = "getJson()"value = "导出JSON">
					<a></a>
					<input type="button"style="	background-color: #4CAF50;
					border: none;
					color: white;
					width:96px;
					height:54px;
					text-align: center;
					text-decoration: none;
					display: inline-block;
					font-size: 16px;" onclick = "getXML()"value = "导出XML">
						</div></div></div>
			</div>
				{%endif%}
			</div>
		</div>
	</div>
	<!-- ***** Welcome Area End ***** -->

	<!-- ***** Footer Start ***** -->
	<footer>
		<div class="container">
			<div class="row">
				<div class="col-lg-5 col-md-12 col-sm-12">
					<br><br><br><br><br><br>
					<font color = "white">copyright@wxl-3190104726</font>
				</div>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-lg-5 col-md-12 col-sm-12">
					<img src="../static/page_static/static/picture/logo-white.svg" class="logo" alt="">
				</div>
			</div>
		</div>
	</footer>
	<!-- ***** Footer End ***** -->

	

	<!-- jQuery -->
	<script src="../static/page_static/static/js/jquery-2.1.0.min.js"></script>

	<!-- Bootstrap -->
	<script src="../static/page_static/static/js/popper.js"></script>
	<script src="../static/page_static/static/js/bootstrap.min.js"></script>

	<!-- Plugins -->
	<script src="../static/page_static/static/js/scrollreveal.min.js"></script>
	<script src="../static/page_static/static/js/parallax.min.js"></script>
	<script src="../static/page_static/static/js/imgfix.min.js"></script>
	<script src="../static/page_static/static/js/owl.carousel.min.js"></script>
<script>
	function saveJSON(data, filename){
        if(!data) {
            alert('保存的数据为空');
            return;
        }
        if(!filename) 
            filename = 'json.json'
        if(typeof data === 'object'){
            data = JSON.stringify(data, undefined, 4)
        }
        var blob = new Blob([data], {type: 'text/json'}),
        e = document.createEvent('MouseEvents'),
        a = document.createElement('a')
        a.download = filename
        a.href = window.URL.createObjectURL(blob)
        a.dataset.downloadurl = ['text/json', a.download, a.href].join(':')
        e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)
        a.dispatchEvent(e)
    }
	function getJson(){
	var a=[{{ output_json|safe }}];
	filename = document.getElementById('mid').value+".json"
	saveJSON(a,filename);
}
function getXML(){
	var a=[{{ output_xml|safe}}];
	filename = document.getElementById('mid').value+".xml"
	saveJSON(a,filename);
}</script>
</body>
</html>